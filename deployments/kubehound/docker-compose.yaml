version: "3.7"

services:
  mongodb:
    image: mongo
    container_name: storedb
    ports:
      - "27017:27017"
    volumes:
      - ./data/mongodb:/data/db
    networks:
      - kubenet

  janusgraph:
    image: janusgraph/janusgraph:latest
    container_name: graphdb-ng
    ports:
      - "8182:8182"
    volumes:
      - ./data/janus:/data
    networks:
      - kubenet

  datadog:
    image: gcr.io/datadoghq/agent:7
    container_name: datadog-agent
    ports:
      - "8125:8125"
    environment:
     - DD_API_KEY=${DD_API_KEY}
     - DD_SITE=datadoghq.com
    networks:
      - kubenet

networks:
  kubenet: